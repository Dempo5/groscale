/* apps/web/src/pages/dashboard-ios.css */
/* Premium matte system â€” light & neutral dark, same layout */

/* ---------- Tokens ---------- */
:root{
  --bg: #f7f8fa;
  --ink: #111418;
  --muted:#6f7a86;

  --layer-1:#ffffff;   /* chat column */
  --layer-2:#f4f6f8;   /* list column / rail */
  --layer-3:#eef1f4;   /* details column */

  --border:#e6e9ee;
  --border-strong:#d7dce4;

  --accent:#2a74ff;

  --radius:10px;
  --shadow-sm:0 1px 2px rgba(0,0,0,.05);
  --shadow-md:0 4px 10px rgba(0,0,0,.08);

  --fs-xs:12px; --fs-sm:13px; --fs-md:14px; --fs-lg:16px; --fs-xl:18px;
  --fw-r:400; --fw-m:500; --fw-s:600;
}
body[data-theme="dark"]{
  --bg:#0f1114;
  --ink:#e6eaf0;
  --muted:#909aaa;

  --layer-1:#15181d;
  --layer-2:#1b1f25;
  --layer-3:#20252c;

  --border:#242a31;
  --border-strong:#2e3540;

  --shadow-sm:0 1px 2px rgba(0,0,0,.25);
  --shadow-md:0 6px 18px rgba(0,0,0,.28);
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:var(--bg);
  font:500 14px/1.5 Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

/* smooth micro-interactions */
*{
  transition:
    background-color 120ms ease,
    border-color 120ms ease,
    box-shadow 140ms ease,
    color 120ms ease;
}

/* ---------- Shell & Topbar ---------- */
.p-shell{min-height:100vh; display:flex; flex-direction:column}
.matte{backdrop-filter:saturate(115%) blur(6px)}

.p-topbar{
  position:sticky; top:0; z-index:40;
  height:56px; display:flex; align-items:center; justify-content:center;
  border-bottom:1px solid var(--border);
  background:color-mix(in srgb, var(--layer-1) 82%, transparent);
}
.brand-center{font-weight:700; letter-spacing:.2px; font-size:var(--fs-md)}
.left-toggle{position:absolute; left:12px; top:50%; transform:translateY(-50%)}
.top-actions{position:absolute; right:12px; top:50%; transform:translateY(-50%); display:flex; gap:10px}

.icon-btn{
  height:32px; width:32px; display:grid; place-items:center;
  border:1px solid var(--border); border-radius:8px; background:var(--layer-2);
}
.icon-btn.sm{height:28px; width:28px}

.profile-btn{all:unset; cursor:pointer}
.avatar{width:28px; height:28px; border-radius:50%; display:grid; place-items:center; font-weight:700; border:1px solid var(--border)}
.avatar.small{width:28px;height:28px}

.menu{
  position:absolute; right:0; margin-top:8px; padding:6px;
  background:var(--layer-1); border:1px solid var(--border-strong);
  border-radius:10px; box-shadow:var(--shadow-sm);
}
.menu-item{
  display:flex; align-items:center; gap:8px; padding:8px 10px; width:200px;
  border-radius:8px; background:transparent; border:0; color:inherit; cursor:pointer;
}
.menu-item:hover{background:color-mix(in srgb, var(--layer-1) 85%, var(--border))}
.menu-sep{height:1px; background:var(--border); margin:4px 6px}
.menu-item.danger{color:#e46a6a}

/* ---------- Grid ---------- */
.p-work.grid{
  display:grid;
  grid-template-columns: 230px 420px 1fr 340px;
  gap:0;
  padding:12px;
}
.p-work.grid.rail-closed{ grid-template-columns: 64px 420px 1fr 340px }

.rail{
  background:var(--layer-2);
  border-right:1px solid var(--border);
  padding:8px 6px; display:flex; flex-direction:column; gap:6px;
}
.rail nav{display:flex; flex-direction:column; gap:4px}
.rail-item{
  display:flex; align-items:center; gap:10px; height:34px; padding:0 8px;
  color:inherit; text-decoration:none; border-radius:8px; border:1px solid transparent;
}
.rail-item:hover{background:color-mix(in srgb, var(--layer-2) 90%, var(--layer-1))}
.rail-item.active{border-color:var(--border-strong)}
.rail.collapsed .rail-item span{display:none}
.rail-foot{margin-top:auto; padding-top:6px; border-top:1px solid var(--border)}

/* shared panel styling (layered depth) */
.panel{
  background:var(--layer-1);
  border-top:1px solid var(--border);
  border-bottom:1px solid var(--border);
  border-left:1px solid var(--border);
  box-shadow:var(--shadow-sm);
}
.list{background:var(--layer-2)}
.details{background:var(--layer-3); border-right:1px solid var(--border)}

/* ---------- List column ---------- */
.list{display:flex; flex-direction:column}
.list-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px; border-bottom:1px solid var(--border)
}
.list-head .h{font-weight:700; font-size:var(--fs-sm)}
.list-head-actions{display:flex; gap:8px}

.btn-sm{
  height:28px; padding:0 10px; border-radius:8px;
  border:1px solid var(--border); background:var(--layer-1); font-size:var(--fs-sm);
}

.search{
  display:flex; align-items:center; gap:8px;
  height:34px; border:1px solid var(--border); background:var(--layer-1);
  padding:0 8px; border-radius:8px; margin:10px 12px;
}
.search input{border:0; outline:none; background:transparent; color:inherit; width:100%}

.rows{list-style:none; margin:0; padding:6px 8px}
.row{
  display:flex; align-items:center; gap:10px; padding:8px 8px; border-radius:8px; cursor:pointer;
  border:1px solid transparent;
}
.row:hover{background:color-mix(in srgb, var(--layer-1) 90%, var(--layer-2))}
.row.selected{border-color:var(--border-strong); background:color-mix(in srgb, var(--layer-1) 94%, var(--layer-2))}
.avatar{width:28px;height:28px;border-radius:50%;display:grid;place-items:center;font-weight:700;border:1px solid var(--border)}
.meta .name{font-weight:600; font-size:var(--fs-sm)}
.meta .sub{color:var(--muted); font-size:var(--fs-xs)}

/* ---------- Thread column ---------- */
.thread{
  display:flex; flex-direction:column; min-height:0; /* allow children to size */
}
.thread-title{padding:12px; border-bottom:1px solid var(--border)}
.who{display:flex; align-items:center; gap:10px}
.who-name{font-weight:600; font-size:var(--fs-md)}
.who-sub{color:var(--muted); font-size:var(--fs-xs)}

.messages{
  flex:1; min-height:240px;
  overflow:auto; padding:12px; display:flex; flex-direction:column; gap:8px;
  scroll-behavior:smooth; overscroll-behavior-y:contain;
}
.bubble{
  max-width:min(72ch, 60%);
  display:inline-block;
  padding:8px 10px; border-radius:10px; border:1px solid var(--border);
  background:color-mix(in srgb, var(--layer-1) 92%, var(--border));
}
.bubble.mine{
  align-self:flex-end;
  background:color-mix(in srgb, #8f9aa7 28%, var(--layer-1)); /* light matte gray */
  border-color:color-mix(in srgb, #8f9aa7 45%, var(--border));
  animation:sendPop 140ms ease;
}
@keyframes sendPop{from{transform:scale(.97);opacity:.75}to{transform:scale(1);opacity:1}}
.bubble .stamp{font-size:var(--fs-xs); color:var(--muted); margin-top:4px}

.composer{
  border-top:1px solid var(--border);
  padding:10px 12px;
  display:grid; grid-template-columns: 1fr auto auto; gap:8px;
  background:var(--layer-1);
}
.composer input{
  height:36px; border:1px solid var(--border); border-radius:8px; padding:0 10px;
  background:var(--layer-1); outline:none;
}

.btn-primary{
  height:32px; padding:0 12px; border:0; border-radius:8px; color:#fff; background:var(--accent);
}

/* ---------- Details column ---------- */
.section-head{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--border)}
.section-title{font-weight:600; font-size:var(--fs-sm)}
.kv{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 12px; border-bottom:1px solid var(--border)}
.kv:last-child{border-bottom:0}
.kv label{color:var(--muted); font-size:var(--fs-xs); text-transform:uppercase; letter-spacing:.03em}
.copy-row{display:flex; align-items:center; gap:8px}
.chip{
  height:24px; padding:0 8px; border:1px solid var(--border); border-radius:999px;
  background:var(--layer-1); font-size:var(--fs-xs); cursor:pointer;
}

/* Remove extra glow/roundness feeling */
.panel, .rail, .p-topbar{box-shadow:none}